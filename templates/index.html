<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!-- Open Graph 標籤 -->
    <meta property="og:title" content="AI亂畫害我輸" />
    <meta property="og:description" content="一款讓 AI 亂畫，揪出間諜的遊戲！" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://www.jerryai.me:5566/playgame" />
    <meta property="og:image" content="{{ url_for('static', filename='images/preview.png') }}" />
    <meta property="og:locale" content="zh_TW" />

    <link rel="shortcut icon" href="{{ url_for('static', filename='images/favicon.ico') }}">
    <title>AI亂畫害我輸</title>

    <!-- CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/animations.css') }}">
</head>

<body class="body">
    <div id="js-scale" class="js-scale">
        <!-- 載入遮罩 -->
        <div id="loading-overlay" class="loading-overlay">
            <div class="loading-spinner">
                <div class="spinner"></div>
                <p id="loading-text">載入中...</p>
            </div>
        </div>
        <!-- JavaScript -->
        <div class="homepage-container" id="homepage-container">
            <!-- <div class="homepage-title">AI亂畫害我輸</div> -->
            <img src="{{ url_for('static', filename='images/logo.png') }}" class="homepage-title-img">
            <div class="homepage-title gelatine">一款讓 AI 亂畫的遊戲！</div>
            <div class="create-join-room">
                <div class="create-join-room-container">
                    <div class="room-action">
                        <input class="text-input" type="text" id="host-name" name="name" maxlength="10" size="10"
                            placeholder="暱稱" />
                        <button class="btn btn-primary" id="create-room-submit">
                            創建房間
                        </button>
                    </div>
                    <div class="or-divider">
                        <div class="or-bar"></div>
                        <p>或</p>
                        <div class="or-bar"></div>
                    </div>
                    <div class="room-action">
                        <input class="text-input" type="text" id="room-code" name="name" maxlength="10" size="10"
                            placeholder="房間代號" />
                        <input class="text-input" type="text" id="player-name" name="name" maxlength="10" size="10"
                            placeholder="暱稱" />
                        <button class="btn btn-secondary" id="join-room-submit">
                            加入房間
                        </button>
                    </div>
                </div>
            </div>
            <button class="btn btn-info" id="rules-btn">
                遊戲規則
            </button>
        </div>
        <div class="room-container" id="room-container">
            <div class="room-info">
                <div class="room-title">
                    房間號碼: <span class="room-code selectable high-light" id="my-room-code"></span>
                    <button class="copy-btn" onclick="copyRoomCode()" title="複製房間代碼">
                        <div class="Emoji-clipboard">&#128203;</div>
                    </button>
                </div>
                <div class="room-status">
                    <div class="phase-badge waiting">
                        <span id="room-phase">等待中</span>
                    </div>
                    <span id="player-count" class="player-count">1/8</span>
                    <div class="waiting-tips">
                        <ul>
                            <li>至少需要 3 名玩家才能開始遊戲</li>
                            <li>點擊頭像可以更換您的角色形象</li>
                        </ul>
                    </div>
                </div>
            </div>
            <div id="waiting-area" class="waiting-area">

                <div class="players-grid" id="players-grid">
                    <!-- 玩家卡片將通過 JavaScript 動態生成 -->
                </div>
            </div>
            <div class="room-actions">
                <button id="start-game-btn" class="btn btn-success" onclick="startGame()" style="visibility: hidden">
                    開始遊戲
                </button>
                <button class="btn btn-danger" onclick="leaveRoom()">
                    離開房間
                </button>
            </div>
        </div>
        <div class="gametable-container" id="gametable-container">
            <div class="game-header">
                <div class="game-info">
                    <span id="current-round">第 1 輪</span>
                </div>
            </div>
            <div class="game-content">
                <div class="playerblock">
                    <div class="playerBlockL" id="player1">
                        <div class="in-game-player-avatar" id="player1-avatar">
                            <div class="in-game-player-name" id="player1-name"></div>
                        </div>
                        <div class="in-game-player-art-L" id="player1-art"></div>
                    </div>
                    <div class="playerBlockL" id="player3">
                        <div class="in-game-player-avatar" id="player3-avatar">
                            <div class="in-game-player-name" id="player3-name"></div>
                        </div>
                        <div class="in-game-player-art-L" id="player3-art"></div>
                    </div>
                    <div class="playerBlockL" id="player5">
                        <div class="in-game-player-avatar" id="player5-avatar">
                            <div class="in-game-player-name" id="player5-name"></div>
                        </div>
                        <div class="in-game-player-art-L" id="player5-art"></div>
                    </div>
                    <div class="playerBlockL" id="player7">
                        <div class="in-game-player-avatar" id="player7-avatar">
                            <div class="in-game-player-name" id="player7-name"></div>
                        </div>
                        <div class="in-game-player-art-L" id="player7-art"></div>
                    </div>
                    <div class="topic-display" id="topic-display">
                        <span class="topic-label">主題</span>
                        <span class="topic-value" id="topic-value"></span>
                    </div>
                </div>
                <div class="drawing-area" id="drawing-interface">
                    <div class="drawing-tips" id="drawing-tips"></div>
                    <div class="subject-vote-area" id="subject-vote-area">
                    </div>
                    <div class="subject-announcement-area" id="subject-announcement-area">
                    </div>
                    <div class="drawing-input-area" id="drawing-input-area">
                        <input class="text-input prompt-input" type="text" id="prompt-text" name="prompt-text"
                            maxlength="30" size="30" placeholder="想繪製的內容..." />
                        <div class="drawing-controls">
                            <button id="select-style" class="btn btn-warning">畫風選擇</button>
                            <button id="submit-order" class="btn btn-primary">提交訂單</button>
                        </div>
                    </div>
                </div>
                <div class="art-display-interface" id="art-display-interface">
                    <div class="drawing-tips" id="art-display-tips">正在等待其他玩家選擇繪圖...</div>
                    <div class="artwork-waiting" id="art-waiting-area">
                        <div class="waiting-spinner"></div>
                    </div>
                    <div class="art-select-area" id="art-select-area">
                    </div>
                    <div class="art-show" id="art-show-area">
                        <div class="art-show-content" id="art-show-content">
                        </div>
                        <div class="player-info">
                            <div class="player-name" id="showing-creator-name"></div>
                        </div>
                    </div>
                </div>
                <div class="spy-voting" id="spy-voting-interface">
                    <div class="drawing-tips" id="spy-voting-tips">選出誰是間諜？</div>
                    <div class="spy-voting-options" id="spy-voting-options">
                    </div>
                </div>
                <div class="real-spy-interface" id="real-spy-interface">
                </div>
                <div class="spy-guess" id="spy-guess-interface">
                    <div class="drawing-tips" id="spy-guess-tips"></div>
                    <div class="spy-guess-options" id="spy-guess-options">
                    </div>
                </div>
                <div class="spy-guess-result" id="spy-guess-result-interface">
                </div>
                <div class="game-result" id="game-result-interface">
                    <div class="player-celebrate-block" id="player-celebrate-block">
                    </div>
                    <div class="drawing-tips" id="game-result-tips"></div>
                </div>
                <div class="playerblock">
                    <div class="playerBlockR" id="player2">
                        <div class="in-game-player-avatar" id="player2-avatar">
                            <div class="in-game-player-name" id="player2-name"></div>
                        </div>
                        <div class="in-game-player-art-R" id="player2-art"></div>
                    </div>
                    <div class="playerBlockR" id="player4">
                        <div class="in-game-player-avatar" id="player4-avatar">
                            <div class="in-game-player-name" id="player4-name"></div>
                        </div>
                        <div class="in-game-player-art-R" id="player4-art"></div>
                    </div>
                    <div class="playerBlockR" id="player6">
                        <div class="in-game-player-avatar" id="player6-avatar">
                            <div class="in-game-player-name" id="player6-name"></div>
                        </div>
                        <div class="in-game-player-art-R" id="player6-art"></div>
                    </div>
                    <div class="playerBlockR" id="player8">
                        <div class="in-game-player-avatar" id="player8-avatar">
                            <div class="in-game-player-name" id="player8-name"></div>
                        </div>
                        <div class="in-game-player-art-R" id="player8-art"></div>
                    </div>
                    <div class="topic-display keyWord-display" id="keyWord-display">
                        <span class="topic-label">關鍵字</span>
                        <span class="topic-value" id="keyWord-value"></span>
                    </div>
                </div>
            </div>
        </div>
        <div class="gallery-container" id="gallery-container">
            <div class="gallery-header">
                <div class="gallery-title">‧ 畫作藝廊 ‧</div>
            </div>
            <div class="gallery-mid-content" id="gallery-mid-content">
                <!-- 畫作將通過 JavaScript 動態生成 -->
            </div>
            <div class="gallery-footer">
                <div class="gallery-player-status" id="gallery-player-status">
                    <!-- 玩家狀態將通過 JavaScript 動態生成 -->
                </div>
                <div class="room-actions">
                    <button class="btn btn-warning" onclick="leaveRoom()">退出遊戲</button>
                    <button class="btn btn-primary" id="play-again-btn" onclick="playAgain()">下場遊戲</button>
                </div>
            </div>
        </div>

    </div>
    <div class="follow-interface" id="follow-interface">
    </div>
    <script>
        // 頁面載入完成後隱藏載入遮罩
        window.addEventListener('load', function () {
            hideLoading();
            initParticles();
        });
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.8.1/socket.io.js"></script>
    <script src="{{ url_for('static', filename='js/utils.js') }}"></script>
    <script src="{{ url_for('static', filename='js/audio.js') }}"></script>
    <script src="{{ url_for('static', filename='js/particles.js') }}"></script>
    <script src="{{ url_for('static', filename='js/home.js') }}"></script>
    <script src="{{ url_for('static', filename='js/room.js') }}"></script>
    <script src="{{ url_for('static', filename='js/socket-client.js') }}"></script>
    <script src="{{ url_for('static', filename='js/confetti.js') }}"></script>
</body>

</html>